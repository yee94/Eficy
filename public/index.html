<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eficy-core</title>
    <link rel="stylesheet" href="https://unpkg.com/antd@4.0.3/dist/antd.min.css" />
  </head>
  <body>
    <div id="container"></div>

    <script src="https://unpkg.com/react@16.13.1/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.13.1/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/moment@2.24.0/min/moment.min.js"></script>
    <script src="https://unpkg.com/antd@4.0.3/dist/antd.min.js"></script>
    <script src="https://unpkg.com/@ant-design/icons@4.0.2/dist/index.umd.js"></script>

    <% for(var k in htmlWebpackPlugin.options.chunks){ %> <% if(k!=='main'){ %>
    <script
      type="text/javascript"
      src="<%= htmlWebpackPlugin.files.publicPath %><%= htmlWebpackPlugin.options.chunks[k] %>.js"
    ></script>
    <% } %> <% } %>

    <script>
      Eficy.Config.successAlert = ({ msg }) => antd.message.success(msg);
      Eficy.Config.failAlert = ({ msg }) => antd.message.error(msg);
      Eficy.Config.defaultComponentMap = Object.assign({}, antd, { Icons: icons });
    </script>

    <% for (const file of htmlWebpackPlugin.options.files.js) { %>
    <script type="text/javascript" src="<%=file %>"></script>
    <% } %>

    <script>
      window.renderController && window.renderController.render('#container');
    </script>
  </body>
</html>
